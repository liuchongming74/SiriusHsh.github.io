---
layout: post
title:  正则表达式和RegExp(JS篇)
categories: 学习笔记
tags: 学习笔记 正则表达式 JavaScript
author: HSH
mathjax: true
---

* content
{:toc}





## 创建一个正则表达式（regular expressions）
使用正则表达式字面量：`var re = /ab+c/;`  
使用RegExp对象的构造函数：`var re = new RegExp("ab+c");`  
## 编写一个正则表达式的模式
简单模式：/abc/  
特殊字符：类似/ab*c/

- 字符：`\`
 跟在其后的字符：字面量转义为特殊字符，特殊字符转义为字面量。
字面量转义为特殊字符，如`/b/`意为匹配字符'b'，而`/\b/`意为匹配一个字符边界  
特殊字符转为字面量：如`/a*/`意为匹配0个或者多个a，而`/a\*/`意为匹配'a*'这样的字符串。  
使用new RegExp("pattern")的时候要将\转义，如字面量模式的`/\[bc\]at/`等价的字符串为`\\[bc\\]at`，字面量模式为`/\w\\hello\\123/`等价的字符串为`\\w\\\\hello\\\\123`  
- 字符：`^`和`$`
匹配输入的开始和结束，如`/^A/` and `/t$/`
- 字符：`*` ， `+`，`?`
*匹配前一个表达式的0次或多次，+匹配前一个表达式的1次或多次，？匹配前一个表达式的0次或1次
**紧跟在任何量词\*、+、？的后面，会使量词变得非贪婪（尽可能匹配较少的字符）**
- 字符：`.`
匹配除了换行符（\n）之外的任何单个字符
- 字符：`(x)`,`(?:x)`,`x(?=y)`,`x(?!y)`
`(x)`匹配'x'并且记住匹配项,`(?:x)`匹配'x'但是不记住匹配项,`x(?=y)`匹配'x'仅仅当'x'后面跟着'y'，这种叫正向肯定查找，`x(?!y)`匹配'x'仅仅当后面不跟着'y'，这种叫做正向否定查找
- 字符：`x|y`
匹配'x'或者'y'
- 字符：`{n}`,`{n.m}`
n是一个正整数，匹配了前面一个字符刚好发生了n次。
n和m都是正整数，匹配前面的字符至少出现n次，至多出现m次，如果n和m的值是0，这个值被忽略
- 字符：`[xyz]`,`[^xyz]`
`[xyz]`一个字符集合，匹配方括号中的任何字符，`[^xyz]`一个反向字符集 
- 字符：`[\b]`
匹配一个退格
- 字符：`\b`,`\B`
`\b`匹配一个词的边界,`\B`匹配一个非单词边界
- 字符：`\d`,`\D`
`\d`匹配一个数字，等价于[0-9],`\D`匹配一个非数字字符，等价于[^0-9]
- 字符`\f`, `\n`, `\r`, `\s\`,`\S\`,`\t\`, `\v\`
`\f`匹配一个换页符，`\n`匹配一个换行符 , `\r`匹配一个回车符, `\s\`匹配一个空白字符,`\S`匹配一个非空白字符，`\t\`匹配一个水平制表符 , `\v\`匹配一个垂直制表符
- 字符：`\w`,`\W`
`\w`匹配一个单字字符（字母、数字或者下划线）。等价于[A-Za-z0-9_]
`\W`匹配一个非单字字符。等价于[^A-Za-z0-9]
- 字符：`\n`
当n是一个正整数，返回与n有关的副字符串
- 字符：`\0`
匹配NULL字符，*不要在后面跟其他数字，会被转义为其他进制*
- 字符`\xhh`, `\uhhhh`
`\xhh`匹配带有两位小数代码 (hh)的字符
`\uhhhh`匹配带有思维小数代码(hh)的字符

## 使用正则表达式
正则表达式可以被用于RegExp的exec和test方法以及String的match、replace、search和split方法。
> test方法、search方法：当你想知道在一个字符串中的一个匹配是否被找到时  

> exec和match方法：想要得到更多的信息，如果匹配成功，那么这些方法将返回一个数组并且更新相关的正则表达式对象和预定义的正则表达式对象；如果匹配失败，返回null

**实例：**

```
//使用exec方法在一个字符串中查找一个匹配
var myRe = /d(b+)d/g;
var myArray = myRe.exec("cdbbdbsbz");
//如果不需要访问正则表达式的属性，通过下面方法来创建myArray
var myArray = /d(b+)d/g.exec("cdbbdbsbz");
//通过一个字符串构建正则表达式
var myRe = new RegExp("d(b+)d","g");
var myArray = myRe.exec("cdbbdbsbz");
```

### 使用括号的子字符串匹配
正则表达式使用了括号，相应的子匹配会被记住，回调这些括号中匹配的子串，使用数组元素[1]...[n]，$1,$2

```
//使用replace()方法来转换字符串中的单词
var re = /(w+)\s\(\w+)/;
var str = "John Smith";
var newStr = str.replace(re, "$2,$1");
console.log(newStr);  // => "Smith,John"
```

### 通过标志进行高级搜索
标志:"g", "i", "m", "y"  
g：全局搜索  
i：不区分大小写搜索  
m：多行搜索  
y：执行“粘性”搜索，匹配从目标字符串的当前位置开始，可以使用y标志  


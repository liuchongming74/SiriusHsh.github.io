<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Git学习笔记</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_8v3czwksspqlg14i.css">
    <link rel="stylesheet" href="/css/main.css ">
    <link rel="canonical" href="http://localhost:4000/2016/08/30/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
    <link rel="alternate" type="application/rss+xml" title="SiriusHsh" href="http://localhost:4000/feed.xml ">


    <script>
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?11d0a7524a357b826a143e592f616077;";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>




<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    tex2jax: { inlineMath: [["$","$"],["\\(","\\)"]] },
    "HTML-CSS": {
      linebreaks: { automatic: true, width: "container" }
    }
});
</script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">SiriusHsh</a>
        <small>记录思考，整理人生</small>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/about/">
                        
                            <i class="fa fa-heart"></i>About
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <div class="page clearfix" post>
    <div class="left">
        <h1>Git学习笔记</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2016-08-30
            </div>

            <div class="label-card">
                <i class="fa fa-user"></i>HSH
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#学习记录" title="Category: 学习记录" rel="category">学习记录</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" title="Tag: 学习笔记" rel="tag">学习笔记</a-->
        <a href="/tag/#学习笔记" title="Tag: 学习笔记" rel="tag">学习笔记</a>&nbsp;
    
        <!--a href="/tag/#Git" title="Tag: Git" rel="tag">Git</a-->
        <a href="/tag/#Git" title="Tag: Git" rel="tag">Git</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#创建版本库" id="markdown-toc-创建版本库">创建版本库</a></li>
  <li><a href="#本地仓库管理" id="markdown-toc-本地仓库管理">本地仓库管理</a></li>
  <li><a href="#远程仓库" id="markdown-toc-远程仓库">远程仓库</a></li>
  <li><a href="#分支管理" id="markdown-toc-分支管理">分支管理</a></li>
  <li><a href="#标签管理" id="markdown-toc-标签管理">标签管理</a></li>
  <li><a href="#自定义git" id="markdown-toc-自定义git">自定义Git</a></li>
</ul>

<h1 id="创建版本库">创建版本库</h1>

<p>1.初始化Git仓库，使用<code class="highlighter-rouge">git init</code>命令<br />
2.添加文件到Git仓库，分两步：<br />
　　第一步,使用命令<code class="highlighter-rouge">git add &lt;file&gt;</code>，注意，可反复多次使用，添加多个文件<br />
　　第二步,使用命令<code class="highlighter-rouge">git commit</code>,完成<br />
　　//两步合一步，<code class="highlighter-rouge">git commit -am ""</code>….. 仅适用于修改文件，如果有新文件添加，还是需要两步<br />
3.要随时掌握工作区的状态，使用 <code class="highlighter-rouge">git status</code>命令</p>

<h1 id="本地仓库管理">本地仓库管理</h1>

<p>1.如果 <code class="highlighter-rouge">git status</code>告诉你有文件被修改过，用<code class="highlighter-rouge">git diff</code>可以查看修改内容</p>

<p>2.HEAD指向的版本就是当前的版本，因此，Git允许我们在版本的历史之间穿梭，使用命令 <code class="highlighter-rouge">git reset --hard commit_id</code><br />
git reset –hard HEAD^  <br />
git reset –hard HEAD^^…<br />
git reset –hard HEAD~100</p>

<p>3.穿梭前，使用 <code class="highlighter-rouge">git log</code>    (git log –pretty=oneline –abbrev-commmit)</p>

<p>4.要重返未来，用 <code class="highlighter-rouge">git reflog</code>查看命令历史，以便确定要回到未来的哪个版本</p>

<p>5.工作区(Working Directory)就是在电脑里能看到的目录<br />
　　版本库(Repository) 工作区有一个隐藏目录 .git，这就是Git的版本库<br />
　　版本库里存了很多东西，其中最重要的就是stage的暂存区，还有Git为我们自动创建的第一个分支master，以及指向master的一个指针HEAD<br />
　　
6.Git跟踪并管理的是修改，而非文件，每次修改，如果不add到暂存区，那就不会加入到commit中</p>

<p>7.撤销修改  <br />
   　　场景1：当你改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令<code class="highlighter-rouge">git checkout -- fileName</code><br />
   　　场景2：当你不仅改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃，分两步<br />
　　　　第一步，用命令<code class="highlighter-rouge">git reset HEAD fileName</code>，就回到了场景1  		
　　　　第二步，按场景1操作<br />
　　场景3：已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退</p>

<p>8.对应的，删除文件<br />
	　　场景1,仅删除了工作区里的文件,rm fileName,那么用命令 <code class="highlighter-rouge">git checkout -- fileName</code>来恢复 (实际就是stage  –&gt; Wording Directory) <br />
	　　场景2，删除了文件又提交到了stage, <code class="highlighter-rouge">git rm fileName</code>, 那么也是分两步  		　　 
　　　　　第一步，用命令<code class="highlighter-rouge">git reset HEAD fileName</code>，回到场景1  		 　　
　　　　　第二步，按场景1操作<br />
	　　场景3：已经提交了删除操作到版本库，想要撤销本次删除，参考版本回退<br />
	　　</p>
<h1 id="远程仓库">远程仓库</h1>
<p>1.github相关,git如何将github作为远程仓库呢<br />
　　(1) of course,注册一个Github账号<br />
　　(2) 创建SSH Key   中文测试<br />
　　<code class="highlighter-rouge">ssh-keygen -t rsa -C "youremail@example.com"</code><br />
　　地址：用户主目录, .ssh目录， id_rsa是私钥，id_rsa.pub是公钥  <br />
　　(3)登录Github，打开 “Account settings”,”SSH Keys”页面，点“Add SSH Key“，填上title，在key文本中粘贴id_rssa.pub文件的内容　　</p>

<p>2.要关联一个远程库，使用命令 <code class="highlighter-rouge">git remote add origin git@github.com:userName/repo-name.git</code><br />
		关联后，使用命令 <code class="highlighter-rouge">git push -u origin master</code> 第一次推送master分支的所有内容<br />
		此后，每次本地提交后，可以使用 <code class="highlighter-rouge">git push origin master</code>推送最新修改</p>

<p>3.要克隆一个仓库，首先必须知道仓库的地址，然后使用 git clone命令克隆<br />
　　Git支持多种协议，包括https，但是ssh支持的原生git协议速度最快<br />
　　<code class="highlighter-rouge">git clone https://github.com/SiriusHsh/gitskills.git</code>
　　<code class="highlighter-rouge">git clone git@github:SiriusHsh/gitskills.git</code></p>
<h1 id="分支管理">分支管理</h1>
<p>1.分支操作：<br />
　　查看分支：<code class="highlighter-rouge">git branch</code><br />
　　创建分支：<code class="highlighter-rouge">git branch branchName</code><br />
　　切换分支：<code class="highlighter-rouge">git checkout branchName</code>　<br />
　　创建+切换分支: <code class="highlighter-rouge">git checkout -b branchName</code><br />
　　合并某分支到当前分支：<code class="highlighter-rouge">git merge branchName</code><br />
　　删除分支：<code class="highlighter-rouge">git branch -d branchName</code><br />
2.当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，在提交，合并完后才能使用 <code class="highlighter-rouge">git log --graph --pretty=oneline --abbrev-commit</code>命令可以看到分支合并图</p>

<p>3.合并分支时，加上 –no-ff 参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并<br />
而fast forward合并就看不出曾经做过合并.<br />
	  `git merge –no-ff -m “XXX”</p>

<p>4.BUG分支与保存现场<br />
　　修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除<br />
　　当手头工作没有完成时，先把工作现场 <code class="highlighter-rouge">git stash</code>一下，然后去修复bug，修复后，再<code class="highlighter-rouge">git stash pop</code>,回到现场<br />
<code class="highlighter-rouge">git stash list</code>，可以查看有哪些工作现场<br />
　　修复现场有两种方法<br />
　　　　一是用<code class="highlighter-rouge">git stash apply</code>修复，但是恢复后，stash内容并不删除，需用<code class="highlighter-rouge">git stash drop</code>来删除<br />
　　　　二是用<code class="highlighter-rouge">git stash pop</code>，恢复的同时把stash的内容也删除了。</p>

<p>5.feature分支<br />
　　开发一个新feature，最好新建一个分支<br />
　　如果要丢弃一个没有被合并过的分支，可以通过<code class="highlighter-rouge">git checkout -D branchName</code></p>

<p>6.查看远程库信息,使用<code class="highlighter-rouge">git remote -v</code></p>

<p>7.多人协作的工作模式<br />
　　(1)首先，可以试图用<code class="highlighter-rouge">git push origin branchName</code>推送自己的修改<br />
　　(2)如果推送失败，则因为远程分支比你的本地更新，需要先用<code class="highlighter-rouge">git pull</code>试图合并<br />
　　(3)如果合并有冲突，则解决冲突，并在本地提交<br />
　　(4)没有冲突或者解决掉冲突后，再用 <code class="highlighter-rouge">git push origin branchName</code> 推送就能成功！<br />
　　如果 <code class="highlighter-rouge">git pull</code> 提示“no tracking information“，则说明本地分支和远程分支的链接关系没有创建，<br />
　　用命令 <code class="highlighter-rouge">git branch --set-upstream branchName origin/branchName</code><br />
　</p>
<h1 id="标签管理">标签管理</h1>
<p>1.创建标签<br />
　　命令<code class="highlighter-rouge">git tag tagName</code>用于新建一个标签，默认为HEAD，也可以指定一个commit id<br />
　　git tag -a tagName -m “XXXXX”  可以指定标签信息，-a 指定标签签名，-m指定说明文字<br />
　　git tag -s tagName -m “XXXXX”  可以用PGP签名标签<br />
　　命令git tag可以查看所有标签</p>

<p>2.操作标签<br />
　　命令<code class="highlighter-rouge">git push origin tagName</code> 可以推送一个本地标签<br />
　　命令<code class="highlighter-rouge">git push origin --tags</code>可以推送全部未推送过的本地标签<br />
　　命令<code class="highlighter-rouge">git tag -d tagName</code> 可以删除一个本地标签<br />
　　命令<code class="highlighter-rouge">git push origin :refs/tags/tagName</code> 可以删除一个远程标签</p>
<h1 id="自定义git">自定义Git</h1>
<p>1.忽略特殊文件<br />
　　忽略某些文件时，需要编写.gitignore<br />
　　.gitignore文件本身要放到版本库里，并且可以对.gitignore做版本管理<br />
2.配置别名<br />
<code class="highlighter-rouge">git config --global alias.co checkout</code><br />
<code class="highlighter-rouge">git config --global alias.ci commit</code><br />
<code class="highlighter-rouge">git config --global alias.br branch</code></p>

        </article>
        <hr>

        
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
        
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2016/11/01/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8CRegExp/">正则表达式和RegExp(JS篇)
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
            
            
                
                    
                
                    
                
            
                
                    
                
                    
                
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">
        
    </div>
    <div class="nex">

        
        <p><strong>下一篇</strong> <a href="/2016/09/04/%E8%A7%A3%E5%86%B3JNI%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98(1)/">解决JNI相关问题(1)</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        





    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>
            <!-- 其他div框放到这里 -->
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">

        <p class="description">
             本站记录我在学习生活的点点滴滴。 
        </p>
        <p class="contact">
            Contact me at: 
            <a href="https://github.com/SiriusHsh" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>  
            <a href="mailto:siriushsh@foxmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a>   
            <a href="https://www.zhihu.com/people/SiriusHsh" title="Zhihu"><i class="iconfont icon-daoruzhihu"></i></a>      
        </p>
        <p>
            本站总访问量<span id="busuanzi_value_site_pv"></span>次，本站访客数<span id="busuanzi_value_site_uv"></span>人次，本文总阅读量<span id="busuanzi_value_page_pv"></span>次
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
        </p>
    </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
